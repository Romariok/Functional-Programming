# Лабораторная работа №3

- Студент: `Кобелев Роман Павлович`
- Группа: `P3312`
- ИСУ: `368308`
  
---

Цель: получить навыки работы с вводом/выводом, потоковой обработкой данных, командной строкой.

В рамках лабораторной работы вам предлагается повторно реализовать лабораторную работу по предмету "Вычислительная математика" посвящённую аппроксимации (в разные годы это лабораторная работа 3 или 4) со следующими дополнениями:

- обязательно должна быть реализована линейная интерполяция (отрезками, [link](https://en.wikipedia.org/wiki/Linear_interpolation));
- настройки алгоритма аппроксимирования и выводимых данных должны задаваться через аргументы командной строки:
  - какие алгоритмы использовать (в том числе два сразу);
  - частота дискретизации результирующих данных;
  - и т.п.;
- входные данные должны задаваться в текстовом формате на подобии ".csv" (к примеру `x;y\n` или `x\ty\n`) и подаваться на стандартный ввод, входные данные должны быть отсортированы по возрастанию x;
- выходные данные должны подаваться на стандартный вывод;
- программа должна работать в потоковом режиме (пример -- `cat | grep 11`), это значит, что при запуске программы она должна ожидать получения данных на стандартный ввод, и, по мере получения достаточного количества данных, должна выводить рассчитанные точки в стандартный вывод;

Приложение должно быть организовано следующим образом:

```text
    +---------------------------+
    | обработка входного потока |
    +---------------------------+
            |
            | поток / список / последовательность точек
            v
    +------------------------+      +------------------------------+
    | алгоритм аппроксимации |<-----| генератор точек, для которых |
    +------------------------+      | необходимо вычислить         |
            |                       | аппроксимированное значение   |
            |                       +------------------------------+
            |
            | поток / список / последовательность рассчитанных точек
            v
    +------------------------+
    | печать выходных данных |
    +------------------------+
```

Потоковый режим для алгоритмов, работающих с группой точек должен работать следующим образом:

```text
o o o o o o . . x x x
  x x x . . o . . x x x
    x x x . . o . . x x x
      x x x . . o . . x x x
        x x x . . o . . x x x
          x x x . . o . . x x x
            x x x . . o o o o o o EOF
```

где:

- каждая строка -- окно данных, на основании которых производится расчёт алгоритма;
- строки сменяются по мере поступления в систему новых данных (старые данные удаляются из окна, новые -- добавляются);
- `o` -- рассчитанные данные, можно видеть:
  - большинство окон используется для расчёта всего одной точки, так как именно в "центре аппроксимации" результат наиболее точен;
  - первое и последнее окно используются для расчёта большого количества точек, так лучших данных для расчёта у нас не будет.
- `x` -- точки, расчёт которых для "окон" не требуется.

Общие требования:

- программа должна быть реализована в функциональном стиле;
- ввод/вывод должен быть отделён от алгоритмов аппроксимации;
- требуется использовать идиоматичный для технологии стиль программирования.

Содержание отчёта:

- титульный лист;
- требования к разработанному ПО, включая описание алгоритма;
- ключевые элементы реализации с минимальными комментариями;
- ввод/вывод программы;
- выводы (отзыв об использованных приёмах программирования).

Общие рекомендации по реализации. Не стоит писать большие и страшные автоматы, управляющие поведением приложения в целом. Если у вас:

- Язык с ленью -- используйте лень.
- Языки с параллельным программированием и акторами -- используйте их.
- Язык без всей этой прелести -- используйте генераторы/итераторы/и т.п.

---

## Архитектура приложения

```text
    +---------------------------+
    |    input_parser.ex        |
    +---------------------------+
            |
            | точка
            v
    +------------------------+      +------------------------------+
    |     calculator.ex      |      |                              |
    |       |                |      | генератор точек, для которых |
    |       v                |<-----| необходимо вычислить         |
    |     interpolation.ex   |      | аппроксимированное значение  |
    |                        |      |                              |
    +------------------------+      +------------------------------+
            |
            |
            |
            | последовательность рассчитанных точек
            v
    +------------------------+
    |     printer.ex         |
    +------------------------+
```

## Пример работы программы

```text
❯ mix run lib/start.exs --method2 newton -s 0.5 -m linear

Input of first 2 points (Format: X Y):

3 5
4 6


==============================================


Linear (go with step 0.5)
3.0  3.5  4.0  4.5  
5.0  5.5  6.0  6.5  

7.3 -3


==============================================


Linear (go with step 0.5)
4.0  4.5  5.0  5.5  6.0  6.5  7.0  7.5  
6.0  4.64  3.27  1.91  0.55  -0.82  -2.18  -3.55  

10 -2.32


==============================================


Linear (go with step 0.5)
7.3  7.8  8.3  8.8  9.3  9.8  10.3  
-3.0  -2.87  -2.75  -2.62  -2.5  -2.37  -2.24  



==============================================


Newton (go with step 0.5)
3.0  3.5  4.0  4.5  5.0  5.5  6.0  6.5  7.0  7.5  8.0  8.5  9.0  9.5  10.0  10.5  
5.0  5.9  6.0  5.44  4.37  2.93  1.28  -0.45  -2.1  -3.54  -4.61  -5.17  -5.07  -4.17  -2.32  0.63  

exit
Exit
```

## Вывод

Реализовал методы интерполяции на Elixir. Поработал с разделением компонентов программы на процессы.
